<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Calendar by duguying</title>

    <style>
      #main_content p{
        font-family: PingFang,'Helvetica Neue',Lato,'Microsoft YaHei UI','Microsoft YaHei','Noto Sans CJK SC',sans-serif;
      }
      #main_content p code{
        font-family: Consolas, Arial;
      }
      #main_content p .tips{
        font-family: 楷体;
      }
    </style>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Calendar</h1>
        <h2>Calendar 事务提醒服务</h2>

        <section id="downloads">
          <a href="https://github.com/duguying/calendar/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/duguying/calendar/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/duguying/calendar" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h3>
<a id="welcome" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>欢迎使用Calendar小程序</h3>

<p>
  Calendar小程序是一个简易日程提醒服务程序，她起源于作者难以记住爸妈以及三姑六婆七大姑八大姨的农历(lunar)生日，于是作者写了这么个简易的日历提醒服务程序。建议在Linux服务器上使用，由于Calendar是go语言编写，理论上借用nssm也可以在windows服务器上使用。提醒通知采用的是短信的方式，因为作者认为最不易被拦截的通知方式就是短信了，最通用的通知也是短信，甚至功能机都可以用；Calendar目前使用的是<a href="https://www.yunpian.com/" target="_blank">云片网</a>的短信通知服务，用户需要自行开通云片服务。
</p>

<h3>
<a id="installation" class="anchor" href="#designer-templates" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>安装</h3>

<p>
  <code>
    go get github.com/duguying/calendar
  </code>
  <br>
  <code>
    ln -s $GOPATH/bin/calendar /usr/local/bin/calendar
  </code>
</p>

<h3>
<a id="configuration" class="anchor" href="#creating-pages-manually" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>配置</h3>

<p>
  Calendar的配置文件会存储在当前用户目录下的<code>.calendar</code>目录，该目录是程序第一次运行时自动生成的。
  <code>.calendar/config.json</code>文件中存储的是提醒事物数据。
  <code>.calendar/api.key</code>中存储的是云片网的api密钥，需要用户自己填写。
  <code>.calendar/sms.tpl</code>中存储的是云片网中定义的短信模板，该模板会被程序调用，因此，模板规定如下：<br>
  <code>xxxxxxx%sxxxxxxx%sxxxxx</code>其中两个 <code>%s</code>表示两个模板变量，一者为时间，一者为事件。模板中其它文字应当保持与云片网中的模板定义一致，否则会智能匹配失败。<br>
</p>

<h3>
  <a id="usage" class="anchor" href="#creating-pages-manually" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>使用</h3>

<p>
  <h4>启动服务</h4>
        <code>calendar serve</code><br>
        该命令可以将calendar启动为服务，建议使用 <code>systemd</code>作为服务的启动程序，相关 <code>service</code>文件在仓库根目录中。
  <h4>客户端</h4>
        calendar作为客户端也是同一个程序。
        <h5>添加配置</h5>
              <code>calendar add L R1 D2016.10.10 T10:23 P15911113147 Eevents</code><br>
              其中L代表农历(lunar)，R1代表闰月(若为R0则代表非闰月，不填则默认非闰月)，D2016.10.10代表农历2016年十月初十为生日，calendar将会每年农历十月初十提醒，P15911113147代表手机号为15911113147，Eevents代表，提醒的事件名为event。<br>
              <code>calendar add S D2016.10.10 T12:23 P15911113147 Eevents</code><br>
              其中R代表阳历(solar)，D2016.10.10代表阳历2016年10月初十为生日，calendar将会每年阳历10月10日提醒，P15911113147代表手机号为15911113147，Eevents代表，提醒的事件名为event。<br>
              <span class="tips">注意，配置是实时动态加载的，可以不必重启服务。但是强烈不建议手动修改 <code>config.json</code>配置文件。</span><br>
        <h5>列出所有配置</h5>
              <code>calendar list</code><br>
              <img src="./images/shotcuts.png" alt="配置示例"><br>
              其中粉色文字中的数字表示当前配置ID，之后分别是时间和事件。<br>
        <h5>删除配置</h5>
              <code>calendar remove 1</code><br>
              该命令表示删除ID为1的配置。<br>
</p>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>作者与捐献</h3>

<p>
  独孤影 (<a href="mailto:root@duguying.net">root@duguying.net</a>)<br>
  <img src="./images/donate.jpg" alt="捐赠" style="width: 50%;"><br>
</p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h3>

<p>
  MIT License
</p>
      </section>
    </div>

    
  </body>
</html>
